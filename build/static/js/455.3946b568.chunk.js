"use strict";(self.webpackChunkevolution_motors=self.webpackChunkevolution_motors||[]).push([[455],{53016:(e,s,r)=>{r.d(s,{Z:()=>n});r(72791);var t=r(2409),a=r(49389),d=r(80184);const n=e=>{let{label:s,name:r,required:n,required_text:i,warning:l}=e;return(0,d.jsx)(t.Z.Item,{label:l?(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{children:s}),(0,d.jsx)("br",{}),(0,d.jsx)("p",{children:l})]}):(0,d.jsx)("div",{children:s}),name:r,rules:[{required:n,message:i}],children:(0,d.jsx)(a.default,{})})}},63159:(e,s,r)=>{r.d(s,{Z:()=>n});r(72791);var t=r(2409),a=r(13344),d=r(80184);const n=e=>{let{label:s,name:r,required:n,required_text:i}=e;return(0,d.jsx)(t.Z.Item,{label:s,name:r,rules:[{required:n,message:i}],children:(0,d.jsx)(a.Z,{style:{width:"100%"}})})}},96185:(e,s,r)=>{r.r(s),r.d(s,{default:()=>q});var t=r(72791),a=r(2409),d=r(50419),n=r(66106),i=r(30914),l=r(87309),u=r(91933),o=r(27169),c=r(29677),m=r(57689),x=r(16030),p=r(77221),h=r(53016),Z=r(63159),j=r(49389),_=r(80184);const b=e=>{let{label:s,name:r,required:t,required_text:d}=e;return(0,_.jsx)(a.Z.Item,{label:s,name:r,rules:[{required:t,message:d},{validator:(e,s,r)=>{!s||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?r():r("Please enter a valid email address")}}],children:(0,_.jsx)(j.default,{})})},f={address_uz:"",address_ru:"",phone_number:"",email:"",start_time:"",end_time:"",map:""},q=()=>{const[e]=a.Z.useForm(),s=(0,m.s0)(),{editId:r}=(0,x.v9)((e=>e.editData)),j=(0,x.I0)(),{mutate:q,data:g,isLoading:v,isSuccess:y}=(0,u.useMutation)((e=>{let{url:s,data:r}=e;return o.Z.postData(s,r)}),{onSuccess:()=>{d.ZP.success("Success")},onError:e=>{for(let s in e.response.data)d.ZP.error("".concat(s,": ").concat(e.response.data[s][0]))}}),{isLoading:S,data:F,refetch:I,isSuccess:w}=(0,u.useQuery)(["edit-contact",r],(()=>o.Z.getDataByID("/about/contact",r)),{enabled:!1}),{mutate:E,isLoading:V,data:k,isSuccess:P}=(0,u.useMutation)((e=>{let{url:s,data:r,id:t}=e;return o.Z.editData(s,r,t)}),{onSuccess:()=>{d.ZP.success("Success")},onError:e=>{for(let s in e.response.data)d.ZP.error("".concat(s,": ").concat(e.response.data[s]))}});(0,t.useEffect)((()=>{P&&j({type:p.Pb,payload:""}),(y||P)&&s("/contact")}),[g,k]),(0,t.useEffect)((()=>{""!==r&&I()}),[r]),(0,t.useEffect)((()=>{""===r&&e.setFieldsValue(f)}),[]),(0,t.useEffect)((()=>{if(w){const s={address_uz:F.address_uz,address_ru:F.address_ru,phone_number:F.phone_number,email:F.email,start_time:F.start_time,end_time:F.end_time,map:F.map};e.setFieldsValue(s)}}),[F]);return(0,t.useEffect)((()=>{const s=JSON.parse(localStorage.getItem("myFormValues"));s&&(s.images=[],e.setFieldsValue(s));const r=()=>{localStorage.setItem("myFormValues",JSON.stringify(e.getFieldsValue()))};return window.addEventListener("beforeunload",r),()=>{localStorage.removeItem("editDataId"),localStorage.removeItem("myFormValues"),window.removeEventListener("beforeunload",r)}}),[]),(0,_.jsx)("div",{children:v||S||V?(0,_.jsx)(c.QP,{}):(0,_.jsxs)(a.Z,{form:e,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:f,onFinish:e=>{F?E({url:"/about/contact",data:e,id:r}):q({url:"/about/contact/",data:e})},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,_.jsxs)(n.Z,{gutter:20,children:[(0,_.jsx)(i.Z,{span:12,children:(0,_.jsx)(h.Z,{required:!0,required_text:"Address kiritish kerak",label:"Address Uz",name:"address_uz"})}),(0,_.jsx)(i.Z,{span:12,children:(0,_.jsx)(h.Z,{required:!0,required_text:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0430\u0434\u0440\u0435\u0441",label:"\u0410\u0434\u0440\u0435\u0441 Ru",name:"address_ru"})})]}),(0,_.jsxs)(n.Z,{gutter:20,children:[(0,_.jsx)(i.Z,{span:12,children:(0,_.jsx)(Z.Z,{required:!0,required_text:"\u0412\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",name:"phone_number"})}),(0,_.jsx)(i.Z,{span:12,children:(0,_.jsx)(b,{required:!0,required_text:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",name:"email"})})]}),(0,_.jsxs)(n.Z,{gutter:20,children:[(0,_.jsx)(i.Z,{span:12,children:(0,_.jsx)(h.Z,{required:!0,required_text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",label:"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 10:00)",name:"start_time"})}),(0,_.jsx)(i.Z,{span:12,children:(0,_.jsx)(h.Z,{required:!0,required_text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",label:"\u041a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 20:00)",name:"end_time"})}),(0,_.jsx)(i.Z,{span:24,children:(0,_.jsx)(h.Z,{required:!0,required_text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0433\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044e",label:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0433\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044e",name:"map"})})]}),(0,_.jsx)(l.Z,{type:"primary",htmlType:"submit",style:{width:"100%",marginTop:"20px"},children:w?"Edit":"Add"})]})})}},30914:(e,s,r)=>{r.d(s,{Z:()=>t});const t=r(89752).Z}}]);
//# sourceMappingURL=455.3946b568.chunk.js.map